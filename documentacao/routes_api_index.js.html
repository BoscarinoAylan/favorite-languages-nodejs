<h2>src/routes/api/index.js</h2>

<pre><code class="lang-js">const Router = require('express').Router();
const usuariosRouter = require('./usuarios');
const linguagensRouter = require('./linguagens');

const endpoints = {
    message: 'essa é a API da nossa rede social',
    endpoints: {
        usuarios: {
            caminho: '/usuarios',
            endpoints: {
                POST: '/signup',
                POST: '/login'
            }
        },
        linguagens: {
            caminho: '/linguagens',
            endpoints: {
                GET: '/',
                GET: '/:id',
                PUT: '/curtir/:id'
            }
        }
    }
};

Router.get('/', (req, res, next) => res.json(endpoints));
Router.use('/usuarios', usuariosRouter);
Router.use('/linguagens', linguagensRouter);

module.exports = Router;
</code></pre>

<h3>Visão Geral</h3>

<p>
    Esse módulo é a rota raiz da API de nossa aplicação, ela descreve os
    caminhos dos endpoints da API definindo qual rota será responsável por qual
    recurso. Ao ser acessada diratamente ela exibira ao cliente os caminhos dos
    demais endpoints da API.
</p>
<h3>Comentários</h3>
<ul>
    <li>
        <span class="lf-strong">Linhas 1 a 3</span>: Realizamos as importações
        do módulo sendo estas o objeto Router do express, a rota responsável
        pela entidade usuários e a rota responsável pela entidade linguagens.
        <pre><code class="lang-js">const Router = require('express').Router();
const usuariosRouter = require('./usuarios');
const linguagensRouter = require('./linguagens');</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linahs 5 a 24</span>: Montamos um objeto de
        responsta que será exibido ao cliente que tentar acessar ao endpoint
        /api da nossa aplicação. Este objeto contém uma mensagem e informa os
        recuros de nossa API, usuairos e linguagens, e seus respectivos
        endpoints.
        <pre><code class="lang-js">const endpoints = {
    message: 'essa é a API da nossa rede social',
    endpoints: {
        usuarios: {
            caminho: '/usuarios',
            endpoints: {
                POST: '/signup',
                POST: '/login'
            }
        },
        linguagens: {
            caminho: '/linguagens',
            endpoints: {
                GET: '/',
                GET: '/:id',
                PUT: '/curtir/:id'
            }
        }
    }
};</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 26</span>: Definimos por meio do método
        Router.get() que toda requisição HTTP do verbo GET que acessar o
        endpoint API da aplicação terá uma responsta no formato JSON com o
        objeto de resposta previamente construído
        <pre><code class="lang-js">Router.get('/', (req, res, next) => res.json(endpoints));</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linhas 27 e 28</span>: Utilizamos o método
        Router.use() para definir que qualquer requisição a partir dos endpoints
        /api/usuarios e /api/linguagens serão tratados pela rotas de cada
        recurso respectivamente.
        <pre><code class="lang-js">Router.use('/usuarios', usuariosRouter);
Router.use('/linguagens', linguagensRouter);</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 30</span>: Exportamos o objeto Router para
        que o módulo de rotas possa ser usado pela aplicação.
        <pre><code class="lang-js">module.exports = Router;</code></pre>
    </li>
</ul>
