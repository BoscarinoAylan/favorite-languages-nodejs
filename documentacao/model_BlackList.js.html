<h2>src/model/BlackList.js</h2>

<pre><code class="lang-js">const mongoose = require('mongoose');

const BlackListSchema = new mongoose.Schema(
    {
        token: String
    },
    { collection: 'blacklist' }
);

module.exports = mongoose.model('BlackList', BlackListSchema);
</code></pre>

<h3>Visão Geral</h3>
<p>
    Esse módulo exporta um modelo do Mongoose para a entidade BlackList que irá
    fazer a relação entre um objeto da nossa aplicação e um documento no banco
    de dados.
</p>

<h3>Comentários</h3>

<ul>
    <li>
        <span class="lf-strong">Linha 1</span>: Importamos a bilbioteca mongoose
        a partir da qual criaremos o modelo da nossa entidade.
        <pre><code class="lang-js">const mongoose = require('mongoose');</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 3</span>: Criamos a constante
        BlackListSchema que irá armazenar um novo objeto do tipo
        mongoose.Schema. Um Schema fornece uma estrutura de campos para uma
        coleção do MongoDB.

        <pre><code class="lang-js">const BlackListSchema = new mongoose.Schema(</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linhas 4 a 6</span>: Passamos como primeiro
        parâmetro de Schema um objeto com a estrutura que os documentos da
        coleção representada por esse Schema devem ter. Nesse caso somente o
        campo token do tipo String.
        <pre><code class="lang-js">{
            token: String
        },</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linhas 7 e 8</span>: O segundo parâmetro que
        passamos ao Schema é um objeto que informa a qual coleção esse model
        ficará vinculado, nesse caso à coleção blacklist. Fechamos a chamada de
        Schema.
        <pre><code class="lang-js">    { collection: 'blacklist' }
            );</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 10</span>: Exportamos o modelo gerado pelo
        método mongoose.model() definindo que o Schema que geramos nesse módulo
        ficará associado a um modelo de nome BlackList.
        <pre><code class="lang-js">module.exports = mongoose.model('BlackList', BlackListSchema);
        </code></pre>
    </li>
</ul>
