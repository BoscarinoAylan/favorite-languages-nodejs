<h2>src/model/Linguagem.js</h2>

<pre><code class="lang-js">const mongoose = require('mongoose');
const ObjectId = mongoose.Schema.Types.ObjectId;

const LinguagemSchema = new mongoose.Schema(
    {
        nome: String,
        criadoPor: String,
        surgidoEm: Number,
        ultimaVersao: Number,
        paradigmas: [String],
        usuarios: [ObjectId]
    },
    { collection: 'linguagens' }
);

module.exports = mongoose.model('Linguagem', LinguagemSchema);</code></pre>

<h3>Visão Geral</h3>

<p>
    Esse módulo exporta um modelo do Mongoose para a entidade Linguagem que irá
    fazer a relação entre um objeto da nossa aplicação e um documento no banco
    de dados.
</p>

<h3>Comentários</h3>

<ul>
    <li>
        <span class="lf-strong">Linha 1</span>: Importamos a bilbioteca mongoose
        a partir da qual criaremos o modelo da nossa entidade.
        <pre><code class="lang-js">const mongoose = require('mongoose');</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 2</span>: Armazenamos em uma constante o
        valor do tipo de variável ObjectId do Mongo, esse tipo é necessário para
        definir que um campo receberá valores de _id de outro documento.
        <pre><code class="lang-js">const ObjectId = mongoose.Schema.Types.ObjectId;</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 4</span>: Criamos a constante
        LinguagemSchema que irá armazenar um novo objeto do tipo
        mongoose.Schema. Um Schema fornece uma estrutura de campos para uma
        coleção do MongoDB.
        <pre><code class="lang-js">const LinguagemSchema = new mongoose.Schema(</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linhas 5 a 12</span>: Passamos como primeiro
        parâmetro de Schema um objeto com a estrutura que os documentos da
        coleção representada por esse Schema devem ter, sendo os campos que
        possuem [] arrays são arrays de um tipo genérico, por exemplo o campo
        usuarios: [ObjectId] é um array com ids de usuário do MongoDB.
        <pre><code class="lang-js">{
        nome: String,
        criadoPor: String,
        surgidoEm: Number,
        ultimaVersao: Number,
        paradigmas: [String],
        usuarios: [ObjectId]
    },
</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linhas 13 e 14</span>: O segundo parâmetro que
        passamos ao Schema é um objeto que informa a qual coleção esse model
        ficará vinculado, nesse caso à coleção linguagens. Fechamos a chamada de
        Schema.
        <pre><code class="lang-js">    { collection: 'linguagens' }
);</code></pre>
    </li>
    <li>
        <span class="lf-strong">Linha 16</span>: Exportamos o modelo gerado pelo
        método mongoose.model() definindo que o Schema que geramos nesse módulo
        ficará associado a um modelo de nome Linguagem.
        <pre><code class="lang-js">module.exports = mongoose.model('Linguagem', LinguagemSchema);</code></pre>
    </li>
</ul>
